%%
% Internationalization related configuration for LaTeX documents. This
% package defines:
% - font encoding
% - translation of constants
% - command to use foreign words (where foreign is English)
%
% It DOES NOT define:
% - character encoding (you are required to define the encoding in your
%   LaTeX document. Unfortunately, we cannot assume that everybody uses
%   UTF-8 nowadays.
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{common-i18n}[2012/02/13 i18n related package for LaTeX-Scholars]

\RequirePackage{ifthen}
\newboolean{scholars@encoding@utf8}
\newboolean{scholars@encoding@iso88591}
\setboolean{scholars@encoding@utf8}{false}
\setboolean{scholars@encoding@iso88591}{false}

\DeclareOption{utf8}{
	\setboolean{scholars@encoding@utf8}{true}
}
\DeclareOption{latin1}{
	\setboolean{scholars@encoding@iso88591}{true}
}

\ProcessOptions*

% l10n
\RequirePackage{babel}
\RequirePackage{datetime}

% Select font encoding.
\RequirePackage[T1]{fontenc}

% Enable UTF-8 support
\RequirePackage[fasterrors,savemem,warnunknown]{ucs}

\ifthenelse{\boolean{scholars@encoding@utf8}}{
	\RequirePackage[utf8x]{inputenc}
}{}
\ifthenelse{\boolean{scholars@encoding@iso88591}}{
	\RequirePackage[latin1]{inputenc}
}{}


% Fonts to be used. This choice depends upon the font's choice. For
% T1, the old recommended option was 'ae' (Almost European). It will use
% Adobe Type 1 versions of the CM fonts instead of bitmapped ones.
% Currently, a better option is 'cm-super' (mostly automatically
% vectorized from bitmap ones) and 'lmodern' (manually vectorized).
% As 'lmodern' (Latin Modern) is more carefully designed and under
% continuous maintenance, it is the recommended option.
\RequirePackage{lmodern}

% If using cm-super, you should also enable the package 'fix-cm' to
% fix a bug in 'cm-super'.
% \RequirePackage{cm-super}
% \RequirePackage{fix-cm}

% Usually, using the package 'ae' provides a better viewing/rendering
% quality (at the expense of broken copy & paste of the text for
% non-ascii chars.
% \RequirePackage{ae}
% \RequirePackage{aecompl}
% \RequirePackage{aeguill}




% Macro utilizada para termos em ingl\00s.
\newcommand\foreign[1]{\foreignlanguage{english}{\textit{#1}}}

% Traduz os nomes de listagens e fragmentos de c\00digo para portugu\00s
% \iflanguage{brazil}{%
% \renewcommand{\lstlistingname}{Exemplo}
% \renewcommand{\lstlistlistingname}{Lista de exemplos}
% }{}

\iflanguage{brazil}{%
\def\depositdatename{Data de dep\'osito}
\def\signaturename{Assinatura}
\def\advisorname{Orientador}
}{
\def\depositdatename{Deposit date}
\def\signaturename{Signature}
\def\advisorname{Advisor}
\def\depositfulldatename{Deposit Date}
}

% Translations regarding acronyms
\iflanguage{brazil}{%
	\def\listofacronymsname{Lista de acrônimos}
}{
	\def\listofacronymsname{Acronyms}
}

% Translation of names defined by Babel does not take effects as Babel's
% translations are defined by '\begin{document}' statement. Thus, you
% have to use the command '\addto\captions<language>'. This hint was found
% at http://www.tex.ac.uk/cgi-bin/texfaq2html?label=latexwords
%
\addto\captionsbrazil{%
	\renewcommand{\listfigurename}{Lista de figuras}%
	\renewcommand{\listtablename}{Lista de tabelas}%
	\renewcommand{\bibname}{Referências}
}



\usepackage[capitalise]{cleveref}
\iflanguage{brazil}{%
\crefname{chapter}{Cap\'itulo}{Cap\'itulos}
\Crefname{chapter}{Cap\'itulo}{Cap\'itulos}
\crefname{section}{Se\c{c}\~ao}{Se\c{c}\~oes}
\Crefname{section}{Se\c{c}\~ao}{Se\c{c}\~oes}
\crefname{line}{Linha}{Linhas}
\Crefname{line}{Linha}{Linhas}
\crefname{table}{Tabela}{Tabelas}
\Crefname{table}{Tabela}{Tabelas}
\crefname{figure}{Figura}{Figuras}
\crefname{figure}{Figura}{Figuras}
\Crefname{figure}{Figura}{Figuras}
\crefname{subfigure}{Figura}{Figuras}
\Crefname{subfigure}{Figura}{Figuras}
\crefname{equation}{Equa\c{c}\~ao}{Equa\c{c}\~oes}
\Crefname{equation}{Equa\c{c}\~ao}{Equa\c{c}\~oes}
\crefname{lstlisting}{C\'odigo-fonte}{C\'odigos-fonte}
\Crefname{lstlisting}{C\'odigo-fonte}{C\'odigos-fonte}
\crefname{lstnumber}{Linha}{Linhas}
\Crefname{lstnumber}{Linha}{Linhas}
\crefrangelabelformat{chapter}{#3#1#4~a~#5#2#6}
\crefrangelabelformat{section}{#3#1#4~a~#5#2#6}

% The commands all take five arguments: the cross-reference type, the format
% for the first cross-reference in a list, the format for the second
% cross-reference in a list of two, the format for the middle cross-references
% in a list of more than two, and the format for the last cross-reference in
% a list of more than two.
\newcommand{\crefrangeconjunction}{ e }
\newcommand{\crefpairconjunction}{ e }
\newcommand{\crefmiddleconjunction}{, }
\newcommand{\creflastconjunction}{ e }
\crefmultiformat{ type }{ first }{ second }{ middle }{ last }
\Crefmultiformat{ type }{ first }{ second }{ middle }{ last }
\crefrangemultiformat{ type }{ first }{ second }{ middle }{ last }
\Crefrangemultiformat{ type }{ first }{ second }{ middle }{ last }


}{
\crefname{chapter}{Chapter}{Chapters}
\Crefname{chapter}{Chapter}{Chapters}
\crefname{section}{Section}{Sections}
\Crefname{section}{Section}{Sections}
\crefname{line}{Line}{Lines}
\Crefname{line}{Line}{Lines}
\crefname{table}{Table}{Tables}
\Crefname{table}{Table}{Tables}
\crefname{figure}{Figure}{Figures}
\Crefname{figure}{Figure}{Figures}
\crefname{subfigure}{Figure}{Figures}
\Crefname{subfigure}{Figure}{Figures}
\crefname{equation}{Equation}{Equations}
\Crefname{equation}{Equation}{Equations}
\crefname{lstlisting}{Listing}{Listings}
\Crefname{lstlisting}{Listing}{Listings}
\crefname{lstnumber}{Line}{Lines}
\Crefname{lstnumber}{Line}{Lines}
\crefrangelabelformat{chapter}{#3#1#4~to~#5#2#6}
\crefrangelabelformat{section}{#3#1#4~to~#5#2#6}
}
