\chapter{Um Modelo de {\it Design Rationale} para Projetos de Pesquisa} \label{cap_modelo}

\section{Considerações iniciais}

%O processo de gerenciamento de conhecimento, apesar de ter sido um requisito dos usuários para o processo de software para desenvolvimento de projetos de pesquisa, não foi considerado na proposta apresentada no capítulo anterior. Um dos objetivos deste trabalho foi investigar a possibilidade de usar a abordagem de {\it design rationale} de forma a contribuir neste sentido. Certamente, este é um trabalho a ser desenvolvido a longo prazo, de forma a observar as especificidades de cada processo e a adequação do uso da abordagem em cada um deles.  

Neste capítulo é apresentado o estudo realizado sobre a aplicação de {\it design rationale} no processo de desenvolvimento de projetos de pesquisa, tendo em vista a melhoria da documentação e enfatizando especificamente a atividade de análise de requisitos de software. %A motivação para a escolha deste processo está relacionada aos resultados obtidos em um estudo de caso realizado \citep{PaiFor05}, em que foi notada a importância da abordagem nas fases iniciais das atividades de ciclo de vida de desenvolvimento de software. É importante notar que resultados semelhantes foram registrados por outros autores na literatura \citep{ConBur1996, Kar96}, o que reforçou o interesse em começar as investigações por tal processo.

%Nas sub-seções seguintes são apresentadas as diferentes etapas cumpridas e os resultados obtidos para a elaboração de um modelo de {\it design rationale} que seja útil para o desenvolvimento de projetos de pesquisa.     

\section{Experiências com {\it design rationale} em ambiente acadêmico}

Nos últimos quatro anos, foram realizados estudos de caso envolvendo a captura e o registro de {\it design rationale} no ICMC-USP, em disciplinas dos cursos de graduação e pós graduação em Ciência da Computação. Durante o desenvolvimento dos projetos foi solicitado aos estudantes que indicassem suas opiniões a respeito do uso da abordagem, principalmente em relação ao auxílio à manutenção dos projetos. Conforme observado por \cite{tesebur}, uma dificuldade em investigar o potencial uso de {\it design rationale} no desenvolvimento de software é que há poucas bases de dados relacionadas para análise. Assim, a atividade inicial proposta foi criar uma base que auxiliasse na realização das investigações. 

Foram realizados estudos de caso em 6 disciplinas e 124 alunos estiveram envolvidos. A perspectiva da argumentação foi explorada, sendo que os modelos IBIS e PHI e as ferramentas DocRationale \citep{Fran2004} e DocRat \citep{lar05} foram utilizados (nos primeiros estudos realizados não haviam ferramentas disponíveis e as informações foram registradas utilizando um editor de textos). De forma geral, foi solicitado aos estudantes que capturassem e registrassem informações de {\it design rationale} para os projetos desenvolvidos em grupos. %Os projetos desenvolvidos foram trocados entre os grupos e atividades de manutenção foram propostas em seguida. Os efeitos de {\it design rationale} puderam ser observados considerando-se os registros dos estudantes.      

Após a criação de uma base de {\it design rationale} inicial, buscou-se avaliar se os estudantes estavam de fato registrando as informações relacionadas às discussões e decisões durante a etapa de desenvolvimento. Obviamente, as informações de {\it design rationale} não poderão ser úteis na fase de manutenção se não forem convenientemente tratadas na fase de desenvolvimento. Assim, uma das atividades do trabalho de \cite{panos04} foi analisar a base obtida, contando a quantidade de questões, posições e argumentos que foi registrada nas quatro fases desenvolvidas (análise de requisitos, projeto, prototipação rápida e testes) em 31 projetos avaliados das 6 disciplinas. Na Tabela \ref{contagem} são apresentados os valores médios obtidos que representam o volume de dados registrado para cada item de argumentação. Por exemplo, considerando a primeira linha e a segunda coluna da tabela é possível observar que em média 2,41 questões foram registradas na fase de análise de requisitos em cada projeto. 

\begin{table} [!ht]
\centering \caption{Informações de {\it design rationale} registradas em 31 projetos acadêmicos de software
(valores médios) }\label{contagem}
%\begin{tabular}{|c|c|l|l|}
\begin{tabular}{|l|c|c|c|}
\hline
& \textbf{Questões} & \textbf{Posições} & \textbf{Argumentos}\\
\hline \sffamily Análise de requisitos & \sffamily 2,41 & \sffamily 1,16 & \sffamily 0,67 \\
\hline \sffamily Projeto & \sffamily 4,61 & \sffamily 1,32 & \sffamily 0,73\\
\hline \sffamily Prototipação rápida & \sffamily 1,8 & \sffamily 0,91 & \sffamily 0,84\\
\hline \sffamily Testes & \sffamily 0,94 & \sffamily 1,17 & \sffamily 0,25\\
\hline
\end{tabular}
\end{table}

É notável que poucas informações de {\it design rationale} foram de fato registradas pelos estudantes. Na prática, observou-se que os estudantes tinham dificuldades em organizar as informações de acordo com as estruturas de argumentação propostas nos modelos IBIS e PHI. As observações realizadas no decorrer do desenvolvimento dos projetos, permitiram identificar os seguintes dois possíveis fatores, que justificam o pouco interesse dos estudantes para o registro de {\it design rationale}:   

\begin{itemize}

\item Os estudantes não são engenheiros de software experientes e a atividade de documentação não é familiar a eles. 
Assim, produzir uma rede elaborada de argumentação, categorizando e ligando informações convenientemente não foi uma atividade simples para desenvolvedores novatos. Foi observado que, em muitas situações, havia dificuldade em discutir argumentos favoráveis e contra, provavelmente por não possuírem experiência prática suficiente para discutir diferentes alternativas para os problemas que ocorreram.    

\item Nos modelos tradicionais para {\it design rationale}, alguns nós e {\it links}, por exemplo, questões e argumentos, não refletem o processo de Engenharia de Software, o que se torna um empecilho para a adoção dos modelos. 

\end{itemize}

\section{Modelo de representação de {\it design rationale} para desenvolvimento de projetos de pesquisa} \label{mod_re}

Como resultado das experiências realizadas, foi elaborado um conjunto de requisitos para um modelo de representação de {\it design rationale} \citep{PaiPiFor06}, conforme apresentado a seguir. 

\begin{enumerate}

\item {\it Foco no objetivo de cada fase do processo}: a captura de diferentes tipos de informação, de acordo com o objetivo de cada fase do processo deve ser possível. Portanto, nas fases de análise de requisitos e projeto, o foco está em ``o que'' constituirá o software e ``porque''. Por outro lado, durante a fase de implementação, {\it design rationale} pode ser útil para registrar informações relacionadas a ``como'' os requisitos foram codificados. Acredita-se que a especialização direcione a captura de informações úteis minimizando os problemas relacionados ao gerenciamento de uma vasta quantidade de informações. Além disso, é possível que o uso de {\it design rationale} seja aprimorado porque os analistas e programadores poderão distinguir quais tipos de informações poderão ser recuperadas em cada fase do processo de desenvolvimento do software.  
  
\item {\it Foco nas decisões, justificativas e resultados das experiências -- fases de análise de requisitos e projeto}: a captura de decisões tomadas, justificativas e resultados das experiências deve ser possível. A captura de argumentos a favor e contra, sugerida em muitos modelos tradicionais, não é um elemento primordial. Considera-se que projetos de pesquisa sejam desenvolvidos em ambiente de aprendizado e realização de experiências, em que as alternativas estão sendo avaliadas e experimentadas.   

\item {\it Rastreabilidade}: a associação entre os requisitos do software e as informações de {\it design rationale} deve ser possível. A associação permite identificar posteriormente, em fases mais adiantadas do processo, quais decisões foram tomadas em relação a cada requisito, ou seja, recuperar informações adicionais sobre eles. 

\item {\it Inclusão de comentários}: a inclusão de opiniões, lições aprendidas e sugestões para novas investigações deve ser possível. Em ambiente de desenvolvimento de pesquisas, o raciocínio empregado para resolver um problema, as reflexões, a experimentação e as discussões são elementos fundamentais para a obtenção dos resultados científicos e podem resultar na obtenção de conhecimentos valiosos para as equipes. A inclusão de comentários oferece, portanto, a possibilidade de registrar esse tipo de informação, utilizando-se um formato livre.    

\item {\it Evolução de {\it design rationale}}: a evolução das informações de {\it design rationale} deve acompanhar a evolução das versões do software, ou seja, deve ser possível associar as informações de {\it design rationale} às versões dos artefatos. Em termos de desenvolvimento de software, a atividade de manutenção é muito intensiva e, portanto, torna-se importante distinguir claramente quais decisões foram tomadas durante o desenvolvimento de cada versão do projeto. O relacionamento entre {\it design rationale} e as versões do sistema podem trazer muitos benefícios. Por exemplo, membros novatos podem compreender, passo a passo, como a evolução do software ocorreu e, além disso, uma documentação indicando quais decisões são válidas para cada versão é gerada, reforçando o requisito de rastreabilidade. Este requisito não foi coberto na proposta apresentada nesta tese. No entanto, um projeto de pesquisa, que deverá ser implementado como um projeto de mestrado, foi proposto recentemente com o objetivo de investigar mecanismos para implementação deste requisito no contexto da proposta. A proposta foi submetida à Fundect (Fundação de Apoio ao Desenvolvimento do Ensino, Ciência e Tecnologia do Estado de Mato Grosso do Sul) em 09/03/2007 e está em avaliação.   

\item {\it Informações de contexto}: informações relacionadas ao contexto no qual o {\it design rationale} foi elaborado devem ser capturadas. Isso inclui identificar quem registrou determinada informação de {\it design rationale}, quando (data/hora) e onde (em qual projeto/em qual versão) ela foi registrada. Este requisito também não foi coberto na proposta apresentada. Pretende-se propor um projeto de iniciação científica cujo objetivo será a implementação deste requisito. 

\end{enumerate}

%Additionally, we are emphasizing two key points that have not been
%explored in literature: versioning and agility.

Outro requisito importante considerado neste trabalho está relacionado à simplicidade do modelo de {\it design rationale}. Como apresentado por \cite{SouDalKliJac99}, as informações resultantes das discussões muitas vezes são perdidas devido à fraca motivação das equipes em registrá-las. De acordo com \cite{RegHuAtwSun00}, um desafio é reduzir o custo para registrar {\it design rationale} e garantir que sua organização permita a recuperação posterior. Neste sentido, observando-se que um dos focos dos métodos ágeis é a simplicidade da documentação, foi verificado como os princípios defendidos no Manifesto Ágil\footnote{http://agilemanifesto.org/} poderiam ser aplicados no contexto de {\it design rationale}.

 Conforme apresentado a seguir, foi identificada a possibilidade de aplicar cinco dos princípios, aconselhados no Manifesto Ágil, no contexto deste trabalho. O objetivo foi definir uma estrutura simples para registro das informações de {\it design rationale} e motivar os membros de um projeto de pesquisa para seu uso. Assim, os princípios seguidos foram os seguintes:

\begin{enumerate}

\item {\it Entrega preliminar e contínua do software}: este princípio sugere que o software seja desenvolvido iterativamente e que os resultados obtidos sejam avaliados pelos usuários. Em termos de {\it design rationale} isso pode significar   capturar informações valiosas desde fases preliminares do processo de software e capturá-las continuamente durante todo o desenvolvimento e a manutenção. Além disso, as informações de {\it design rationale} devem poder ser capturadas de forma iterativa e colaborativa.  

\item {\it Desenvolver projetos com pessoas motivadas (oferecer o ambiente e o suporte necessários)}: este princípio sugere que sejam fornecidas as condições necessárias para que as pessoas de fato se envolvam com o projeto. Em termos de {\it design rationale} isso pode significar fornenecer informações que contribuam para o desenvolvimento, o entendimento e a manutenção dos projetos. Além disso, deve ser possível utilizar as informações como uma base para discutir e raciocinar sobre um projeto desenvolvido de forma colaborativa. 

\item {\it Software funcional é a principal medida de progresso}: este princípio sugere que o software funcionando é mais importante que a documentação completa e detalhada. Em termos de {\it design rationale} isso pode significar que as informações de {\it design rationale} podem ser valiosas e contribuir para o progresso do projeto, somente se forem acessadas para auxiliar projetistas a tomar decisões ou resolver algum problema durante o desenvolvimento e a manutenção \citep{Burge2000}. Há interesse, portanto, em compreender em quais fases do processo de software {\it design rationale} pode ser útil e qual a estrutura de representação deve ser utilizada em cada uma delas.  

\item {\it Simplicidade}: este princípio sugere que a solução mais simples possível deve sempre ser desenvolvida. Em termos de {\it design rationale} isso pode significar manter a estrutura para registro das informações simples, de forma a minimizar os custos de uma documentação adicional. 

\item {\it Soluções diretas}: este princípio sugere que soluções simples e fáceis de entender sejam desenvolvidas. Em termos de {\it design rationale} isso pode significar que o modelo de representação utilizado seja fácil de compreender e seja bem documentado. 

\end{enumerate}

Considerando-se os requisitos apresentados, foi elaborado um modelo de representação de {\it design rationale} com o objetivo de atender o contexto de desenvolvimento de pesquisas em software. O foco é o registro de {\it design rationale} nas fases de análise de requisitos e projeto. De forma geral, os requisitos do software representam um elemento de entrada, para os quais as informações de {\it design rationale} são registradas. 

O modelo de representação, denominado \textbf{DR-SACI} ({\it {\bf D}esign {\bf R}ationale of {\bf S}oftw{\bf A}re developed in resear{\bf C}h env{\bf I}ronment}), é apresentado na Figura \ref{dr_saci}. Em seguida seus principais elementos conceituais são descritos.

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.85\textwidth]{modelo_dr.pdf}
  \caption {Modelo de representação de {\it design rationale} para o contexto de desenvolvimento de projetos de pesquisa em software}
  \label{dr_saci}
\end{figure}


\begin{itemize}

\item {\it Artefato}: representa o artefato de software que contém os requisitos elicitados. 

\item {\it Requisito}: representa um requisito funcional ou não funcional do sistema. Dúvidas ou problemas relacionados à elicitação dos requisitos levam a discussão ou reflexão. Como resultado, tal discussão entre os participantes do desenvolvimento de um projeto pode melhorar o entendimento e o detalhamento dos requisitos. 

\item {\it Problema, Questão}: representam os questionamentos ou as dúvidas que surgem na fase de elicitação dos requisitos do projeto. Está relacionado a qualquer problema ou dificuldade da equipe que leve a uma discussão.   

\item {\it Alternativas}: representam possíveis soluções para as questões ou dúvidas

\item {\it Decisão}: representa a indicação da alternativa selecionada. Pode estar relacionada a uma combinação de alternativas. 

\item {\it Justificativa}: representa uma explicação sobre ``porque'' determinada decisão foi tomada. 

\item {\it Comentários, Lições aprendidas}: representam os registros sobre os resultados obtidos a partir das decisões que foram tomadas, sobre trabalhos futuros (por exemplo, propor uma modificação em determinado requisito para realizar novas investigações) e para detalhar as lições aprendidas.    

\item {\it Alegação}: representam informações que indicam a necessidade de reflexão em relação a requisitos especificados anteriormente ou decisões tomadas, tendo em vista a realização de novas experiências e a evolução do projeto de pesquisa. Por exemplo, problemas ou desvantagens de uma decisão que foi tomada ou sugestão para selecionar outra alternativa para o mesmo problema podem ser indicadas.     

\end{itemize}

O relacionamento entre os elementos conceituais do modelo \textbf{DR-SACI} foi definido  de forma que  as setas em \textbf{traço contínuo} indicam relacionamento de associação, mostrando uma relação entre dois conceitos, no sentido de complementar a informação que se tem sobre eles em um determinado instante. Por exemplo, um problema com suas respectivas alternativas e uma decisão associada a uma certa justificativa. 

No modelo \textbf{DR-SACI}, as setas em \textbf{traço pontilhado} simbolizam o relacionamento de evolução de um projeto de pesquisa, ou seja, termos novas versões, tanto de um artefato que contém os requisitos, quanto da documentação de {\it design rationale}, geradas como resultado de uma alegação a uma decisão. 


\section{Ferramenta para apoiar o registro de {\it design rationale} de projetos de pesquisa em software}

A partir da proposta do modelo \textbf{DR-SACI} para representação de {\it design rationale}, foi realizada uma adaptação na ferramenta MVCASE\footnote{http://mvcase.dev.java.net} de forma a implementar parcialmente os requisitos e o modelo apresentados na Seção \ref{mod_re} \citep{pailufor06}.  

A ferramenta MVCASE está sendo desenvolvida por alunos de graduação e pós-graduação da Universidade Federal de São Carlos (UFSCar) e do Instituto de Ciências Matemáticas e de Computação (ICMC-USP). Totalmente desenvolvida em Java, é uma ferramenta livre que teve suas origens como uma ferramenta de modelagem \citep{pra00}, e está evoluindo desde então, com funcionalidades sendo acrescentadas à sua arquitetura, como desenvolvimento baseado em componentes \citep{pra01,almeida02}, integração com ambientes de Engenharia de Software \citep{lucredio04jot}, desenvolvimento de software orientado a aspectos \citep{garcia04} e suporte à reutilização de software \citep{lucredio05dissert}. 

A ferramenta MVCASE é extensível por meio de {\it plug-ins}. Assim, os desenvolvedores podem adicionar funcionalidades extras às funções básicas de modelagem, sem a necessidade de modificar seu código-base. Um desenvolvedor pode incluir funcionalidades em \textit{plug-ins} que podem ser instalados facilmente na ferramenta. Um dos \textit{plug-ins} desenvolvidos para a MVCASE trata a representação de {\it design rationale}. 

Na Figura \ref{mvcase} é apresentada uma tela da ferramenta MVCASE indicando a implementação do modelo de representação de {\it design rationale}. Pode ser observado na figura que um elemento correspondente a um item de {\it design rationale} foi disponibilizado na paleta de elementos gráficos (indicado por (1)). Utilizando o botão, é possível incluir, em qualquer diagrama suportado pela ferramenta, textos referentes à documentação segundo o modelo apresentado na Figura \ref{dr_saci}. O texto incluído fica então visível em uma caixa (indicado por (2)), dividida em quatro compartimentos: {\it Problema, questão e alternativa} (representados por ``P''); {\it Decisões} (representadas por ``D''); {\it Justificativas} (representados por ``J'') e {\it Comentários e Lições Aprendidas} (representado por ``Comments''). É possível associar um item de {\it design rationale} diretamente a um determinado elemento do diagrama, por meio de uma linha pontilhada.

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.95\textwidth]{fig_mvc.pdf}
  \caption{Exemplo de uso da ferramenta MVCASE em que informações de {\it design rationale} foram capturadas}
  \label{mvcase}
\end{figure}

Conforme observado por \cite{RegHuAtwSun00}, diversos fatores contribuem para que informações de {\it design rationale} não sejam capturadas na prática durante o desenvolvimento de projetos. Com a realização deste trabalho (elaboração do modelo proposto e implementação na MVCASE), buscou-se diminuir os efeitos desses fatores e motivar os desenvolvedores para a captura das informações. Um dos fatores está relacionado ao fato de geralmente se propor a utilização de uma nova ferramenta para captura de {\it design rationale}, o que gera uma sobrecarga adicional ao processo de software. Na ferramenta MVCASE, é possível incluir as informações nos próprios diagramas, sem a necessidade de utilizar outra ferramenta. Outro fator apresentado pelos autores é que os sistemas de {\it design rationale} não suprem as necessidades específicas de determinados contextos, por exemplo, uma empresa ou um determinado ambiente. No caso da ferramenta MVCASE, foi implementado um modelo diferenciado, em que foi considerado o domínio de desenvolvimento de pesquisas em software.


\section{Experimento envolvendo o modelo de {\it design rationale} e a ferramenta MVCASE} \label{exp_dr}

Foi realizado um experimento em duas disciplinas do curso de Ciência da Computação do ICMC-USP. Os modelos IBIS	e DR-SACI foram utilizados, constituindo o tratamento 1 e o tratamento 2, respectivamente. Foi solicitado aos estudantes que capturassem e registrassem {\it design rationale} para os projetos que foram propostos, que deveriam ser desenvolvidos em grupo e de forma colaborativa.   

O experimento consistiu da análise de três diferentes projetos de software, com um nível similar de dificuldade, considerando-se o número de requisitos e o número de classes do software. 

O enunciado do primeiro projeto estava relacionado à distribuição de disciplinas para professores de uma universidade (sistema 1, desenvolvido por estudantes da disciplina 1, usando o modelo IBIS); o do segundo projeto estava relacionado ao controle de bilhetes eletrônico para transporte municipal (sistema 2, desenvolvido por estudantes da disciplina 2, usando o modelo DR-SACI);  e o do terceiro projeto estava relacionado ao controle de caixa eletrônico de um banco (sistema 3, desenvolvido por estudantes da disciplina 2, usando o modelo DR-SACI). As disciplinas 1 e 2 foram respectivamente: ``Sistemas de Informação'' e ``Análise e Projeto Orientados a Objetos''.


Nas sub-seções seguintes são apresentadas as atividades cumpridas para a definição, o planejamento e a execução de experimentos, de acordo com os {\it guidelines} recomendados por \cite{Woh2000}, envolvendo o modelo DR-SACI e a ferramenta MVCASE \citep{pai07}. 

\subsection{Definição do experimento}

\noindent{\bf Objeto de estudo}: modelo para registro de {\it design rationale} para o contexto de desenvolvimento de projetos de pesquisa em software (DR-SACI).  \\

\noindent{\bf Proposta}: avaliar o modelo DR-SACI em relação à motivação para registro de {\it design rationale} e sua utilidade na manutenção e evolução de software desenvolvidos em projetos de pesquisa.\\

\noindent{\bf Foco qualitativo}: eficácia do modelo DR-SACI.\\

\noindent{\bf Perspectiva}: o experimento foi realizado sob o ponto de vista de estudantes do curso de graduação do ICMC-USP.\\

\noindent{\bf Contexto}: foram apresentadas diferentes especificações de requisitos aos estudantes e foi solicitado que cumprissem atividades de desenvolvimento e manutenção de software. Foi oferecido treinamento (aproximadamente 3 horas) sobre conceitos de {\it design rationale} e sobre os modelos e as ferramentas utilizadas. Estudantes da disciplina 1 cursavam o oitavo período do curso e os estudantes da disciplina 2 cursavam o sétimo período. O estudo envolvendo o modelo IBIS foi realizado no primeiro semestre de 2005 e o estudo envolvendo o modelo DR-SACI foi realizado no primeiro semestre de 2006.   

\subsection{Planejamento do experimento} \label{plano_experi}

\noindent{\bf Seleção do contexto} o experimento foi realizado por sessenta estudantes divididos em vinte grupos (três estudantes em cada grupo). O experimento foi realizado fora da sala de aula e sem supervisão e, portanto, os estudantes tiveram a liberdade de determinar seus próprios cronogramas para cumprir as atividades propostas. \\

\noindent{\bf Hipóteses}: as hipóteses foram formuladas considerando a Fase 1, em que havia a possibilidade de fazer análise quantitativa.

\begin{description}

\item[{\bf Hipótese nula (H0)}]: a quantidade de itens de {\it design rationale} registrados usando o modelo DR-SACI é menor ou o mesmo que a quantidade de itens de {\it design rationale} registrados usando um modelo tradicional.  

\item[{\bf Hipótese alternativa (H1)}]: a quantidade de itens de {\it design rationale} registrados usando o modelo DR-SACI é maior que a quantidade de itens de {\it design rationale} registrados usando um modelo tradicional.

\end{description}

\noindent{\bf Projeto do experimento}: o experimento foi projetado para ser executado em duas fases. Na Fase 1, o foco estava na modelagem dos três sistemas, usando a linguagem UML. Os estudantes das duas disciplinas cumpriram esta fase. Na Fase 2, foi solicitado aos estudantes que tentassem compreender os projetos desenvolvidos por outros grupos para que pudessem realizar uma atividade de manutenção que foi proposta. Apenas os estudantes da disciplina 2 participaram desta segunda fase. Os grupos que desenvolveram o sistema 2 realizaram a manutenção no sistema 3 e vice-versa. 

Na Fase 1, o objetivo foi fazer uma análise quantitativa dos resultados, ou seja, para cada um dos sistemas foi contado o número de itens de {\it design rationale} registrados pelos estudantes na fase de análise de requisitos. No modelo DR-SACI foi considerado como um item de {\it design rationale}, um conjunto de informações contendo problema - alternativa(s) - decisão - justificativa (comentários são opcionais). Para o modelo IBIS, cada conjunto de informações de questão - posições - argumentos foi contado como um item de {\it design rationale}. %O objetivo foi avaliar se houve melhoria em relação à motivação dos estudantes para a captura de {\it design rationale} quando o modelo DR-SACI foi usado, resultando em uma quantidade maior de itens de {\it design rationale} em comparação com o uso do modelo IBIS. %Um ponto negativo é que não foi avaliada a importância das informações registradas em atividades de manutenção usando ambos os modelos.   

Na Fase 2, o objetivo foi fazer uma análise qualitativa dos resultados, ou seja, avaliar a importância de {\it design rationale} na evolução e manutenção do software. Aproximadamente metade dos grupos pôde acessar e avaliar a importância das informações de {\it design rationale} produzidas na Fase 1. Os grupos que não utilizaram as informações de {\it design rationale} produzidas na Fase 1 puderam avaliar o quanto as informações poderiam facilitar o entendimento dos projetos durante a realização da manutenção.    

Na Tabela \ref{exp1} são apresentadas informações relacionadas às duas fases do experimento, em relação aos grupos que estiveram responsáveis por cumpri-las e aos sistemas que foram utilizados (\small Legenda: \sffamily DDP = sistema para Distribuição de Disciplinas para Professores; CBE = sistema para Controle de Bilhetes Eletrônicos para transporte municipal; CCE = sistema para Controle de Caixa Eletrônico de um banco).   \\

\begin{table}[!h]
\begin{center}
\caption{Projeto do experimento}\label{exp1}
%\begin{tabular}{|c|c|c|c|}
\begin{tabular}{|p{1.7cm}|p{2.2cm}|p{3.5cm}|p{3.3cm}|p{2.4cm}|}
\hline
{\bf \footnotesize Disciplina} & {\bf \footnotesize Identificador do grupo} & {\bf \footnotesize \centering Fase 1:\\ \centering Análise requisitos} & {\bf \footnotesize \centering Fase 2:\\  \centering Manutenção} & \bf \footnotesize Uso de {\it design rationale} \\\hline
\hline  \centering 1 &  \centering 1 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 2 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 3 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 4 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 5 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 6 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 7 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 8 &  \small \sffamily  \centering DDP & -- & --\\
\hline  \centering 1 &  \centering 9 &  \small  \sffamily  \centering DDP & -- & -- \\
\hline  \centering 2 &  \centering 10 & \small  \sffamily  \centering CBE &  \sffamily  \centering CCE  & \small  \textit{sim} \\
\hline  \centering 2 &  \centering 11 & \small  \sffamily  \centering CCE &  \sffamily  \centering CBE  & \small   \textit{sim} \\
\hline  \centering 2 &  \centering 12 & \small  \sffamily  \centering CBE &  \sffamily  \centering CCE  & \small  não \\
\hline  \centering 2 &  \centering 13 & \small  \sffamily  \centering CCE &  \sffamily  \centering CBE  & \small   não \\
\hline  \centering 2 &  \centering 14 & \small  \sffamily  \centering CBE &  \sffamily  \centering CCE  & \small  \textit{sim} \\
\hline  \centering 2 &  \centering 15 & \small  \sffamily  \centering CCE &  \sffamily  \centering CBE  & \small  \textit{sim} \\
\hline  \centering 2 &  \centering 16 & \small  \sffamily  \centering CBE &  \sffamily  \centering CCE  & \small   não \\
\hline  \centering 2 &  \centering 17 & \small  \sffamily  \centering CCE &  \sffamily  \centering CBE  & \small  não \\
\hline  \centering 2 &  \centering 18 & \small  \sffamily  \centering CBE &  \sffamily  \centering CCE  & \small   \textit{sim} \\
\hline  \centering 2 &  \centering 19 & \small  \sffamily  \centering CCE &  \sffamily  \centering CBE  & \small  \textit{sim} \\
\hline  \centering 2 &  \centering 20 & \small  \sffamily  \centering CBE &  \sffamily  \centering CCE  & \small   não \\
\hline
\end{tabular}
\end{center}
\end{table}

\normalsize
\normalfont
\subsubsection {Variáveis independentes} 

\noindent {\it Metodologia usada} -- na Fase 1 (modelagem do software), aproximadamente metade dos estudantes usou o modelo IBIS e os demais usaram o modelo DR-SACI. Na Fase 2 (manutenção do software), apenas o modelo DR-SACI foi usado, realizando-se a troca de projetos entre os grupos. Os itens de {\it design rationale} elaborados na Fase 1 foram disponibilizados a aproximadamente metade dos estudantes durante a Fase 2. \\

\noindent {\it Experiência dos estudantes e área de interesse}: os estudantes possuíam experiência prévia em análise orientada a objetos e interesse em diferentes áreas da Ciência da Computação.  

\subsubsection {Variáveis dependentes}

\noindent  {\it Quantidade de itens de {\it design rationale} registrados pelos participantes} -- Conforme mencionado anteriormente, foi definido previamente como os itens seriam contados. Em relação à Fase 2, as informações subjetivas dos participantes considerando a utilidade de {\it design rationale} na manutenção de software foi considerada uma variável dependente. \\

\subsubsection {Seleção dos participantes}

\noindent Os participantes foram escolhidos considerando-se a conveniência. A divisão dos estudantes em grupos não foi aleatória, pois eles puderam fazer as escolhas dos membros de acordo com suas vontades. A distribuição dos sistemas entre os grupos foi aleatória na Fase 1 e foi invertida na Fase 2. Os estudantes não tiveram a liberdade de escolher entre participar ou não do estudo, pois o experimento constituiu parte de um projeto obrigatório que deveria ser desenvolvido nas disciplinas. Portanto, não é possível garantir que os resultados seriam os mesmos se os participantes fossem voluntários. 


\subsubsection{Ameaças à validade}

\noindent {\it Validade de conclusão}: para todos os grupos, os itens de {\it design rationale} foram contados considerando o critério mencionado no item {\it Projeto do experimento}. É importante observar, no entanto, que os estudantes receberam pontos de crédito nas disciplinas por suas participações no estudo. Há o risco de que o incentivo tenha influenciado os resultados apresentados. Além disso, o experimento foi realizado em duas disciplinas diferentes. Se os gurpos são muito heterogêneos, é possível que as variações que ocorreram devido às influências individuais tenham interferido no resultado geral do experimento.       \\

\subsubsection {Validade interna}

\noindent Os tratamentos não foram aplicados a todos os participantes, ou seja, é possível que um resultado diferente tivesse sido obtido se os tratamentos fossem trocados entre os grupos. Em relação a ameaça à maturação, a maioria dos participantes aparentemente estava concentrada em suas atividades (não houve controle em relação a esse efeito). Na Fase 2, em relação à instrumentação, é importante notar que os resultados são dependentes do conteúdo dos itens de {\it design rationale} gerados na Fase 1. Portanto, os resultados sobre a utilidade de {\it design rationale} para manutenção de software são influenciados pelas condições da base fornecida, por exemplo, completude. Se as informações não foram registradas adequadamente, os resultados foram afetados negativamente.     

\subsubsection{Validade de construção}

\noindent O treinamento em {\it design rationale} não foi extensivo e, portanto, os conceitos e as definições provavelmente não foram claras para alguns estudantes. Poucos tipos de medições foram executadas e as conclusões podem ter sido afetadas negativamente. O fato de que os estudantes estavam desenvolvendo um projeto que é parte de uma disciplina pode ser considerado uma ameaça, pois eles poderiam tentar manipular as informações para melhorar suas notas. No entanto, esse fato não foi considerado, pois os estudantes foram informados a respeito da importância da acurácia das informações. Além disso, o professor da disciplina 1 não foi o mesmo da disciplina 2, o que pode ter causado diferenças no direcionamento da proposta das atividades.

\subsubsection{Validade externa}

\noindent Não é possível generalizar os resultados para diferentes contextos pois, para a elaboração do modelo considerado no experimento (DR-SACI) foram enfatizadas características comuns do contexto de desenvolvimento de projetos de pesquisa. Considerou-se aceitável a realização dos experimentos com estudantes sobre um modelo voltado para o desenvolvimento de projetos de pesquisa, pois sabe-se que em geral os estudantes são membros das equipes que desenvolvem os projetos.  

\subsubsection{Instrumentação}

\noindent O material fornecido aos participantes para a execução dos experimento foi composto por: {\it guidelines} para executar o experimento, documento de requisitos do sistema (apenas o necessário para cada grupo), documentos contendo descrições do modelo IBIS e do modelo DR-SACI (apenas o necessário para cada grupo), documentos descrevendo diagrama de casos de uso e diagrama de classes, planilhas para coletar os dados do experimento.  


\subsection{Realização do experimento}

\subsubsection{Preparação}

\noindent Como parte do treinamento, foram ministradas aulas sobre {\it design rationale} (conceitos, modelos, etc) e análise orientada a objetos. Os artefatos indicados no item {\it Instrumentação} foram disponibilizados na {\it web}. \\

\subsubsection{Participantes}

\noindent Os estudantes possuíam conhecimento prévio em Engenharia de Software, mas eles não possuíam conhcimento sobre conceitos de {\it design rationale}.  \\

\subsubsection{Realização do experimento}

\noindent Inicialmente, a descrição do sistema com o qual o trabalho seria realizado foi apresentado aos estudantes, bem como as tarefas que deveriam ser cumpridas (modelagem do sistema e registro de {\it design rationale}). Foi considerado que, avaliar a motivação dos estudantes em termos da quantidade de itens de {\it design rationale} capturados não era suficiente, ou seja, seria fundamental obter alguma informação sobre a qualidade das informações em relação à utilidade na fase de manutenção dos projetos. Dessa forma, foi proposta uma atividade de manutenção para estudantes da disciplina 2, usando o modelo DR-SACI. Os estudantes da disciplina 1 não participaram porque o tema de manutenção de software não fazia parte do programa do curso. Os projetos desenvolvidos por estudantes da disciplina 2 foram trocados entre os grupos e um novo requisito foi adicionado. Foi solicitado que as modificações necessárias fossem realizadas. Os dados resultantes das duas fases foram coletados da seguinte forma: após a Fase 1, a documentação disponibilizada pelos estudantes das duas disciplinas foi examinada e o número de itens de {\it design rationale} foi contado. Durante a execução da Fase 2, os grupos registraram em um questionário as suas opiniões sobre a importância das informações de {\it design rationale} durante a manunteção de software. As respostas obtidas também foram contabilizadas.    \\

\subsubsection{Validação dos dados}

\noindent O questionário distribuído aos participantes foram checados com o objetivo de garantir que foram preenchidos corretamente. Os registros obtidos foram satisfatórios e nenhum questionário foi descartado. 

\subsection{Resultados dos experimentos}

Primeiramente, as hipóteses serão analisadas, considerando-se os dados quantitativos. Em seguida, as respostas obtidas para o questionário serão discutidas. 

Os resultados da análise estatística descritiva considerando-se as duas disciplinas são apresentados na Tabela \ref{quantid}. A terceira coluna apresenta os valores médios relacionados à quantidade de itens de {\it design rationale} registrados pelos estudantes usando ambos os modelos. A diferença entre os valores fornece uma evidência (embora não prove) de que a motivação para registro de {\it design rationale} melhorou quando o modelo DR-SACI foi utilizado. 

\begin{table}[h]
\begin{center}
\caption{Resultados quantitativos em relação à captura de {\it design rationale}}\label{quantid}
\begin{tabular}{|c|c|c|c|}
%\begin{tabular}{|l|c|c|c|}
%\begin{tabularx}{|X|X|X|}
\hline
 & {\bf \footnotesize Quantidade de grupos} & \bf \footnotesize Ítens de {\it design rationale} &  {\bf \footnotesize Desvio padrão} \\
 &      & \footnotesize (valor médio) & \\\hline
\hline \footnotesize Modelo IBIS       &      &      &      \\
       \footnotesize (disciplina 1)    &   9  & 3,78 & 3,49 \\
\hline \footnotesize Modelo DR-SACI    &      &      &      \\
       \footnotesize (disciplina 2)    &  11  & 8,36 & 2,42  \\
\hline
\end{tabular}
\end{center}
\end{table}

Um gráfico {\it box plot} foi gerado para facilitar a visualização dos dados (Figura \ref{box}). A partir da figura é possível observar que há um padrão que indica que a quantidade de itens de {\it design rationale} registrada foi maior quando o modelo DR-SACI foi utilizado.   

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.85\textwidth]{box.pdf}
  \caption{Quantidade de itens de {\it design rationale} registrados em relação ao uso dos modelos IBIS e DR-SACI}
  \label{box}
\end{figure}

Os dados coletados foram testados em relação à normalidade por meio do teste Anderson-Darling, utilizando-se a ferramenta MINITAB. Os testes de hipótese para normalidade dos dados provenientes do uso do modelo IBIS (p-value=0,470) e dos dados provenientes do uso do modelo DR-SACI (p-value=0,069) não foram rejeitados, considerando o nível de significância de 5\%. Os gráficos gerados são apresentados nas Figuras \ref{norma_ibis} e \ref{norma_saci}.   

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.85\textwidth]{normalidade_ibis.pdf}
  \caption{Resultados do teste de normalidade dos dados obtidos com o uso do modelo IBIS}
  \label{norma_ibis}
\end{figure}

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.85\textwidth]{normalidade_saci.pdf}
  \caption{Resultados do teste de normalidade dos dados obtidos com o uso do modelo DR-SACI}
  \label{norma_saci}
\end{figure}

Foi realizado um t-test bilateral com as duas amostras presumindo variâncias equivalentes. O resultado indicou que o número de itens de {\it design rationale} registrado para grupos que usaram o modelo DR-SACI foi significativamente maior em comparação ao uso do modelo IBIS (p-value=0,0027). Com este resultado, portanto, é possível rejeitar a hipótese nula (H0) e concluir que há uma diferença significativa entre os resultados obtidos quando o modelo IBIS e DR-SACI foram utilizados.    

Foi solicitado, ainda, que os estudantes da disciplina 2 registrassem suas opiniões durante o experimento sobre alguns tópicos específicos. Foi perguntado aos grupos que usaram {\it design rationale} durante a fase de manutenção se as informações apresentadas (em relação às categorias do modelo DR-SACI) foram suficientes para auxiliar a compreensão do projeto. Como apresentado na Figura \ref{sub1}, a maioria dos estudantes indicou que as categorias do modelo foram satisfatórias. 

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.70\textwidth]{fig5.pdf}
  \caption{Resultados da avaliação da estrutura do modelo DR-SACI}
  \label{sub1}
\end{figure}

Os grupos que usaram {\it design rationale} durante a fase de manutenção também avaliaram se as informações disponibilizadas ajudaram a compreender o projeto desenvolvido por outro grupo. Como apresentado na Figura \ref{sub2}, aproximadamente 80\% dos estudantes indicou que as informações de {\it design rationale} foram importantes ou muito importantes. 

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.70\textwidth]{fig6.pdf}
  \caption {Resultados da avaliação da importância do modelo DR-SACI na fase de manutenção}
  \label{sub2}
\end{figure}


Foi perguntado aos grupos que realizaram a manutenção sem {\it design rationale} se, ao surgirem dúvidas durante a etapa de compreensão do projeto, era possível encontrar as respostas nos diagramas disponibilizados ou se informações adicionais teriam sido relevantes. Conforme apresentado na Figura \ref{sub3}, 60\% dos participantes julgaram importante a disponibilização das informações adicionais. Por outro lado, 40\% dos estudantes indicou que as informações adicionais não poderiam ajudá-los, porque as dúvidas surgiram principalmente em relação ao novo requisito considerado. 

\begin{figure} [!ht]
 \centering
  \bfseries
  \includegraphics [width=0.70\textwidth]{fig7.pdf}
  \caption {Opinião dos estudantes que realizaram a manutenção sem o uso de {\it design rationale}}
  \label{sub3}
\end{figure}


Finalmente, é importante destacar outro resultado positivo relacionado ao experimento. Durante a fase de manutenção, o registro de {\it design rationale} não foi solicitado aos estudantes. No entanto, aproximadamente 65\% deles fez o registro de tais informações. Este resultado foi observado como uma forte evidência de que, uma vez que os estudantes tenham compreendido a importância de {\it design rationale} em documentação de software, eles estarão motivados a usar a abordagem em projetos futuros.    

\section{Comparação entre propostas para registro de {\it design rationale} em projetos de pesquisa}

Conforme apresentado na Seção \ref{sec_kim}, a única proposta encontrada na literatura envolvendo {\it design rationale} no contexto de projetos de pesquisa foi apresentada por \cite{kim93}. Os autores propuseram uma adaptação do modelo IBIS para o contexto de desenvolvimento de pesquisas científicas colaborativas. No entanto, as atividades cumpridas para elaboração do modelo e os resultados experimentais de sua avaliação não foram indicados. 

Considerando-se a importância que a Engenharia de Software experimental tem assumido nos últimos anos \citep{Woh2000}, diferentemente da metodologia adotada por Kim et al, na proposta do modelo DR-SACI, a experimentação está sendo considerada uma importante atividade para auxiliar a avaliação e a melhoria da proposta. Um novo estudo de caso foi proposto e realizado no segundo semestre de 2006 no ICMC-USP, porém seus resultados ainda não foram contabilizados. Certamente esses novos dados serão importantes para permitir tirar conclusões sobre a eficácia do modelo. 

O principal elemento que diferencia a proposta apresentada nesta tese é a adoção da abordagem de registrar principalmente ``o que o pesquisador fez''. Assim, o registro de alternativas que não foram implementadas e de argumentos para os quais não há avaliação não são consideradas como foco da proposta. O objetivo principal é indicar as decisões e as justificativas de forma explícita, colaborando para o entendimento dos projetos na fase de manutenção.   

\section{Considerações finais}

Neste capítulo foi apresentado o modelo de {\it design rationale} elaborado para o desenvolvimento de projetos de pesquisa. Foram descritas as fases cumpridas para obtenção do modelo e os resultados parciais obtidos (por exemplo, a proposta dos requisitos e a adaptação realizada na ferramenta MVCASE). 

A necessidade de realização de novos estudos de caso torna-se evidente. Em particular, observa-se a importância em realizá-los no próprio ambiente de desenvolvimento de pesquisas. A experiência obtida com a realização do estudo descrito na Seção \ref{exp_dr} será importante na definição, no planejamento e na realização de outros experimentos.    

